<h2>Formulario de Productos</h2>

<form>
   <fieldset>
      <legend>Productos</legend>

      <select [(ngModel)]="productoSeleccionado" name="productoSeleccionado">
         @for (opcion of productosResultados | async; track opcion.nombre) {
            <option [value]="opcion.nombre">{{ opcion.nombre }}</option>
         }
      </select>
      <input type="number" [(ngModel)]="cantidadSeleccionada" name="cantidadSeleccionada" placeholder="Cantidad">

      <button type="button" (click)="agregarProducto(productoSeleccionado)">Agregar Producto</button>

      <div>
         @for (producto of productosAgregados; track producto) {
            <p>{{ producto.nombre }} - Cantidad: {{ producto.cantidad }}</p>
         }
      </div>
   </fieldset>

   <button type="button" [disabled]="!puedoEnviar()" (click)="enviarFormulario()">Enviar</button>
</form>
